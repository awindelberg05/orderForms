<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=1, user-scalable=no">
    <title> Buddy's Order Form </title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="./js/main.js"></script>
    <script src="./js/data.js"></script>

    <link rel="icon" href="./img/icon.ico" type="image/x-icon">
    <link rel="stylesheet" href="./css/index.css" />


    <!-- jquery Accoridan -->
    <!-- https://api.jqueryui.com/accordion/ -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>


    <!-- Material -->
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">


</head>

<body>
    <div class="grid-container">
        <section class="header">
            <!-- Company Logo -->
            <div class="header-logo">
                <img src="./img/BHF_Logo.png" alt="Company Logo" width="300px" height="200px">
            </div>

            <h2 class="header-title"> Order Form Application </h2>
        </section>
        <!-- Breadcrumbs navigation menu -->
        <ol class="arrows" id="breadcrumbs">
            <li><a id="bcPersonal" class="crntActiveBC" data-target="personal">Personal</a></li>
            <li><a id="bcResidence" data-target="residence">Residence</a></li>
            <li><a id="bcIncome" data-target="income">Income</a></li>
            <li><a id="bcReferences" data-target="references">References</a></li>
            <li><a id="bcOther" data-target="other">Other</a></li>
            <li><a id="bcSignatures" data-target="signatures">Signatures</a></li>
        </ol>
        <!-- <section id="form-section"> -->
        <form id="applicationForm" method="POST">




            <!-- Personal Form -->
            <h3 class="form-section-header form-section-header-personal" id="section-header-personal"> Personal <span class="exclamation-point">&#33;</span></h3>
            <section class="form-section-body" id="personal">
                <div class="form-section-body__personal">

                    <div class="label-input-pair--date">
                        <div id="crntDate" class="form-section-body-date p-crntDate"></div>
                    </div>

                    <div class="label-input-pair p-fname">
                        <label for="fname">First Name</label>
                        <input type="text" name="fname" placeholder="First Name" required>
                    </div>

                    <div class="label-input-pair p-lname">
                        <label for="lname">Last Name</label>
                        <input type="text" name="lname" placeholder="Last Name" required>
                    </div>

                    <div class="label-input-pair p-email">
                        <label for="email">Email</label>
                        <input type="text" name="email" id="email" placeholder="Email" required>
                    </div>

                    <div class="label-input-pair p-phone">
                        <label for="phoneNumber">Phone #</label>
                        <input type="text" name="phoneNumber" placeholder="Phone Number" required>
                    </div>

                    <div class="label-input-pair p-license-number">
                        <label for="licenseNumber">License #</label>
                        <input type="text" id="licenseNumber" name="licenseNumber" placeholder="License Number" required>
                    </div>

                    <fieldset class="p-license">
                        <div class="label-select-pair p-license-state">
                            <label for="licenseState">State</label>
                            <select id="licenseState" name="licenseState" required></select>
                        </div>

                        <div class="label-date-pair p-license-date">
                            <label for="expDate">Expiration Date</label>
                            <input type="date" id="licenseExp" name="expDate" required>
                        </div>
                    </fieldset>

                    <div class="p-co-applicant">
                        <!-- <label class="coApplicantLbl" for="coApplicantBtn">Add a Co-Applicant ?</label> -->
                        <input type="checkbox" id="coApplicantBtn">Add a Co-Applicant ?</input>
                    </div>
                </div>
                <button type="button" class="form-section-button" id="nxtBtn" value="personal" data-target="residence"> Next </button>
            </section>


            <!-- Residence -->
            <h3 class="form-section-header form-section-header-residence" id="section-header-residence"> Residence </h3>
            <section class="form-section-body" id="residence">
                <div class="form-section-body__residence">
                    <!-- residence -->

                    <fieldset class="form-section-body__residence-info">
                        
                        <div class="label-input-pair">
                            <label for="address"> Address </label>
                            <input type="text" name="address" id="address" required>
                        </div>
    
                        <div class="label-input-pair">
                            <label for="address_2"> Address 2 </label>
                            <input type="text" name="address_2" id="zip" required>
                        </div>
                        
                        <fieldset class="fieldset-CSZ">
                            <div class="fieldset-CSZ-pair">
                                <label for="city"> City </label>
                                <input type="text" name="city" id="city" required>
                            </div>

                            <div class="fieldset-CSZ-pair" >
                                <label for="state"> State </label>
                                <select name="state" id="state" required></select>
                            </div>
        
                            <div class="label-input-pair">
                                <label for="zip"> Zip Code </label>
                                <input type="text" name="zip" id="zip" required>
                            </div>
                        </fieldset>

                        <div class="label-input-pair">
                            <label for="monthlyPayments"> Monthly Payments </label>
                            <input type="text" name="monthlyPayments" id="monthlyPayments">
                        </div>
                    </fieldset>


                    <div class="label-input-pair">
                        <label for="rentOrOwn"> Rent or Own </label>
                    </div>
                    <fieldset>
                        <legend>Landlord Information</legend>
                        <div class="label-input-pair">
                            <label for="landlordName"> Landlord/Morgage Name </label>
                            <input type="text" name="landlordName" id="landlordName">
                        </div>

                        <div class="label-input-pair">
                            <label for="landlordPhone"> Landlord Phone # </label>
                            <input type="text" name="landlordPhone" id="landlordPhone">
                        </div>

                        <div class="label-input-pair">
                            <label for="prevAddress"> Previous Address </label>
                            <input type="text" name="prevAddress" id="prevAddress">
                        </div>
                    </fieldset>

                </div>

                <button type="button" class="form-section-button" id="prvBtnResidence" value="residence" data-target="personal"> Previous </button>
                <button type="button" class="form-section-button" id="nxtBtnResidence" value="residence" data-target="income"> Next </button>
            </section>




            <!-- income -->
            <h3 class="form-section-header form-section-header-income" id="section-header-income"> Income </h3>
            <section class="form-section-body" id="income">
                <div class="form-section-body__personal">
                    <div class="label-input-pair">
                        <label for="employer">Employer</label>
                        <input type="text" name="employer" id="employer">
                    </div>

                    <div class="label-input-pair">
                        <label for="empAddress">Employer Address</label>
                        <input type="text" name="empAddress" id="empAddress">
                    </div>

                    <div class="label-input-pair">
                        <label for="jobTitle">Job Title</label>
                        <input type="text" name="jobTitle" id="jobTitle">
                    </div>

                    <div class="label-input-pair">
                        <label for="shift">Shift</label>
                        <!-- Add Button group here -->
                    </div>

                    <div class="label-input-pair">
                        <label for="hiringDate">Hiring Date</label>
                        <input type="date" id="hiringDate" name="hiringDate" value="2018-07-22" min="2018-01-01" max="2018-12-31">
                    </div>

                    <div class="label-input-pair">
                        <label for="phone">Phone #</label>
                        <input type="text" name="phone" id="phone">
                    </div>

                    <div class="label-input-pair">
                        <label for="extDept">Extension/Dept</label>
                        <input type="text" name="extDept" id="extDept">
                    </div>

                    <div class="label-input-pair">
                        <label for="supevisor">Supervisor</label>
                        <input type="text" name="supevisor" id="supervisor">
                    </div>

                    <div id="otherIncome" class="btn-group">
                        <!-- Convert this into a label and add a text field next to it -->
                    </div>

                    <div class="label-input-pair">
                        <label for="payFrequency">Pay Frequency</label>
                        <div name="payFrequency" class="btn-group">
                            asd
                        </div>
                    </div>

                    <div class="label-input-pair">
                        <label for="payPeriod">Pay Period</label>
                        <input type="text" name="payPeriod" id="payPeriod">
                    </div>

                    <div class="label-input-pair">
                        <label for="payDay">Pay Day</label>
                        <input type="text" name="payDay" id="payDay">
                    </div>

                </div>
                <!-- If we can't find a better way just stick the co-applicant here -->
                <button type="button" class="form-section-button" id="prvBtnIncome" value="income" data-target="residence"> Previous </button>
                <button type="button" class="form-section-button" id="nxtBtnIncome" value="income" data-target="references"> Next </button>
            </section>
            <!-- references -->
            <h3 class="form-section-header form-section-header-references" id="section-header-references"> References </h3>
            <section id="references">
                <div>
                    <fieldset>
                        <legend>Parent/Relative Reference</legend>
                        <div class="label-input-pair">
                            <label for="rName">Name</label>
                            <input type="text" name="rName" id="rName">
                        </div>

                        <div class="label-input-pair">
                            <label for="rName">Email</label>
                            <input type="text" name="rEmail" id="rEmail">
                        </div>

                        <div class="label-input-pair">
                            <label for="rName">Relation</label>
                            <input type="text" name="aRelation" id="aRelation">
                        </div>

                        <div class="label-input-pair">
                            <label for="rName">Address</label>
                            <input type="text" name="rAddress" id="rAddress">
                        </div>

                        <div class="label-input-pair">
                            <label for="rName">City</label>
                            <input type="text" name="rCity" id="rCity">
                        </div>

                        <div class="label-input-pair">
                            <label for="rName">State</label>
                            <select id="state" name="state"></select>
                        </div>

                        <div class="label-input-pair">
                            <label for="rName">Zip Code</label>
                            <input type="text" name="rZip" id="rZip">
                        </div>

                        <div class="label-input-pair">
                            <label for="rName">Phone #</label>
                            <input type="text" name="rPhone" id="rPhone">
                        </div>
                    </fieldset>
                </div>
                <button type="button" class="form-section-button" id="prvBtnReferences" value="references" data-target="income"> Previous </button>
                <button type="button" class="form-section-button" id="nxtBtnReferences" value="references" data-target="other"> Next </button>
            </section>
            <!-- others -->
            <h3 class="form-section-header form-section-header-other" id="section-header-other"> Other </h3>
            <section id="other">
                <div class="label-input-pair">
                    <label for="vehicleYR">Year</label>
                    <input type="text" name="vehicleYR" id="vehicleYR">
                </div>

                <div class="label-input-pair">
                    <label for="vehicleYR">Make</label>
                    <input type="text" name="vehicleMK" id="vehicleMK">
                </div>

                <div class="label-input-pair">
                    <label for="vehicleYR">Model</label>
                    <input type="text" name="vehicleML" id="vehicleML">
                </div>

                <div class="label-input-pair">
                    <label for="vehicleYR">Color</label>
                    <input type="text" name="vehicleCL" id="vehicleCL">
                </div>

                <div class="label-input-pair">
                    <label for="vehicleYR">Tag #</label>
                    <input type="text" name="vehicleTG" id="vehicleTG">
                </div>

                <div class="label-input-pair">
                    <label for="vehicleYR">Registered To</label>
                    <input type="text" name="vehicleRG" id="vehicleRG">
                </div>

                <div class="label-input-pair">
                    <label for="vehicleYR">Monthly Payments</label>
                    <input type="text" name="vehicleMP" id="vehicleMP">
                </div>

                <div class="label-input-pair">
                    <label for="vehicleYR">Financed By</label>
                    <input type="text" name="vehicleFB" id="vehicleFB">
                </div>

                <div class="label-input-pair">
                    <label for="vehicleYR">Subscribe</label>
                    <!-- A Place we can put the Initials or can this be placed in the signing area?-->
                    <input type="checkbox" name="subscribe" id="subscribe">
                </div>
                <button type="button" class="form-section-button" id="nxtBtnOther" value="other" data-target="references"> Previous </button>
                <button type="button" class="form-section-button" id="prvBtnOther" value="other" data-target="signatures"> Next </button>
            </section>

            <!-- Signatures -->
            <h3 class="form-section-header form-section-header-signatures" id="section-header-signatures"> Signatures </h3>
            <section id="signatures">
                <!-- signatures -->
                <div class="label-input-pair">
                    <label for="applicantName">Applicant Name</label>
                    <!-- A Place we can put the Initials or can this be placed in the signing area?-->
                    <input type="text" name="sdf" id="asd">
                </div>
                <div class="label-input-pair">
                    <label id="crntDate"></label>
                    <!-- A Place we can put the Initials or can this be placed in the signing area?-->
                    <input type="text" name="sdf" id="asd">
                </div>

                <div class="label-input-pair">
                    <label for="applicantSS">Applicant Social Security</label>
                    <!-- A Place we can put the Initials or can this be placed in the signing area?-->
                    <input type="text" name="asd" id="asd">
                </div>

                <button type="button" class="form-section-button" id="prvBtnSignatures" value="signatures" data-target="other"> Previous </button>
                <button class="form-section-button" id="submit" value="submit" data-target="submit"> Submit </button>
            </section>

        </form>
        <!-- </section> -->
    </div>
    <footer>
        <p> Buddy's Home Furnishings Copyright &#169; 2020 - Call Free: 1-866-779-5058 </p>
    </footer>
</body>



<template id="label-input-template">
    <label class="template-label"></label>
    <input class="template-input">
</template>


</html>

<script>
    let accordionObj = null;
    const myForm = document.getElementById("applicationForm");
    const myBreadcrumbs = document.getElementById("breadcrumbs");
    let currentActiveSection = "personal";

    window.addEventListener('resize', (event) => {

        // On the change of the window, check the size to 
        // see if we need to change layout of the window
        checkWindowWidth();

    }, true);

    myBreadcrumbs.addEventListener("click", (event) => {
        const bCrumbClicked = event.target;

        if (bCrumbClicked.nodeName === 'A') {
            console.log("This is the BreadCrumb value : ");
            bCrumbClicked.value = currentActiveSection;
            changeSection(bCrumbClicked);
            /* Update the Current Section */
            currentActiveSection = bCrumbClicked.dataset.target;
            /* Update the bread crumbs*/
            updateActiveBreadcrumb(currentActiveSection);

        } else {
            return;
        }
    });

    myForm.addEventListener("click", (event) => {

        const isButton = event.target;

        if (isButton.nodeName === 'BUTTON') {
            changeSection(isButton);
            /* Update the Current Section */
            currentActiveSection = isButton.dataset.target;
            /* Update the bread crumbs*/
            updateActiveBreadcrumb(currentActiveSection);
            return false;
        } else {
            return;
        }
    });

    window.addEventListener('load', (event) => {

        // On load check the window size we're currently working
        // with, and create the accordion if needed.
        checkWindowWidth();

        // apply the current date to date field
        applyDatetoLabel('crntDate');

        // Get a list of state options
        let stateOptionsFragment = selectFragment(stateAbbreviations);
        let dayOptionsFragment = selectFragment(daysArray);
        // let otherIncomeFragment = btnGroupFragment(otherIncomeArray);
        // let payFrequencyFragment = btnGroupFragment(payFrequencyArray);


        // retrieve the select element for the state elements
        const stateFieldSet = document.getElementById('licenseState');
        // Append a clone
        stateFieldSet.appendChild(stateOptionsFragment.cloneNode(true));

        // const otherIncomeBtnGroup = document.getElementById('otherIncome');
        // otherIncomeBtnGroup.appendChild(otherIncomeFragment.cloneNode(true));

        /*Testing*/
        // inputTemplate();

    });
</script>